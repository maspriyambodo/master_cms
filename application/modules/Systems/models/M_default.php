<?php
 defined("\x42\x41\x53\x45\x50\x41\124\x48") or die("\105\162\x72\157\x72\40\64\x30\x34"); class M_default extends CI_Model { public function Sys() { $exec = $this->db->query("\x43\x41\x4c\114\x20\x73\x79\x73\137\141\x70\160\x5f\163\145\154\x65\143\164\x28\x29\x3b")->row(); mysqli_next_result($this->db->conn_id); return $exec; } public function Menu() { if ($this->session->userdata("\151\x64\137\165\163\145\x72")) { $exec = $this->db->query("\x43\101\x4c\x4c\x20\x73\171\163\x5f\x6d\145\x6e\x75\137\163\x65\154\x65\143\x74\50" . Dekrip($this->session->userdata("\162\x6f\154\x65\137\151\144")) . "\x29\x3b"); mysqli_next_result($this->db->conn_id); } else { redirect(base_url("\x41\x75\164\150\57\151\x6e\x64\x65\170\57")); } return $exec; } public function Group_menu() { $exec = $this->db->query("\x43\101\x4c\x4c\x20\x67\162\157\x75\160\x5f\155\145\156\165\x28\51\73")->result(); foreach ($exec as $key => $value) { $item[$key] = $value->link; } mysqli_next_result($this->db->conn_id); return $item; } public function Roles($param) { $role_id = Dekrip($this->session->userdata("\162\x6f\154\145\x5f\151\x64")); if (!$role_id or empty($role_id)) { $exec = redirect(base_url("\123\151\147\156\151\156"), $this->session->set_flashdata("\145\x72\162\x5f\x6d\163\x67", "\x79\x6f\x75\x20\156\x65\145\144\40\x73\x69\147\156\151\x6e\40\x74\157\x20\141\x63\143\x65\x73\163\x20\x74\x68\x65\x20\163\171\x73\164\145\155")); } elseif ($param == 0 and $role_id == 1) { $exec = $this->db->query("\103\101\114\x4c\40\x73\171\x73\x5f\162\x6f\x6c\x65\x73\137\x73\145\154\x65\143\x74\x28\42" . $role_id . "\x22\51\73"); mysqli_next_result($this->db->conn_id); } elseif ($param == 0 and $role_id != 1) { $exec = $this->db->select()->from("\163\x79\x73\x5f\162\157\x6c\145\x73\x5f\x73\x65\x6c\x65\143\x74")->where(array("\x60\x73\x79\163\137\x72\x6f\154\x65\163\137\163\x65\x6c\x65\143\x74\140\x2e\x60\x73\164\141\164\x75\163\x5f\147\x72\x75\160\140" => 1 + false, "\140\163\x79\163\137\x72\x6f\x6c\x65\x73\x5f\163\x65\154\145\143\x74\x60\x2e\x60\x70\141\x72\x65\156\x74\137\x69\x64\140" => $role_id + false))->or_where("\140\x73\x79\163\x5f\x72\x6f\x6c\x65\x73\137\x73\145\x6c\145\x63\x74\140\x2e\140\x73\164\x61\164\165\x73\137\x67\x72\165\160\140", 1, false)->where("\x60\x73\x79\x73\137\x72\157\154\x65\163\137\163\145\x6c\x65\143\164\x60\x2e\x60\151\x64\x5f\147\162\x75\160\140", $role_id, false)->get(); } else { $exec = $this->db->query("\103\101\114\x4c\40\163\171\163\x5f\162\157\x6c\x65\163\x5f\x73\x65\x6c\x65\x63\x74\50\x22" . $param . "\x22\51\x3b"); mysqli_next_result($this->db->conn_id); } return $exec; } public function Permission($id, $id_user) { $exec = $this->db->query("\x43\x41\114\x4c\40\163\171\x73\x5f\x70\145\x72\x6d\x69\163\x73\x69\x6f\156\137\x73\145\154\x65\x63\164\x28" . $id . "\54" . $id_user . "\x29\x3b"); mysqli_next_result($this->db->conn_id); return $exec; } }